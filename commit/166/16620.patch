From 2243001d5729561b304ae4c113a30924aa5582c4 Mon Sep 17 00:00:00 2001
From: GitHub Action <action@github.com>
Date: Wed, 7 Jan 2026 05:48:52 +0000
Subject: [PATCH] feat: Squash PR #16620 changes

---
 python/sglang/srt/layers/quantization/gguf.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/python/sglang/srt/layers/quantization/gguf.py b/python/sglang/srt/layers/quantization/gguf.py
index cc969557e..a7e26d78c 100644
--- a/python/sglang/srt/layers/quantization/gguf.py
+++ b/python/sglang/srt/layers/quantization/gguf.py
@@ -42,8 +42,6 @@ if _is_cuda:
         ggml_mul_mat_a8,
         ggml_mul_mat_vec_a8,
     )
-else:
-    warnings.warn(f"Only CUDA support GGUF quantization currently.")
 
 logger = logging.getLogger(__name__)
 
@@ -53,6 +51,8 @@ class GGUFConfig(QuantizationConfig):
 
     def __init__(self, modules_to_not_convert: list[str] | None = None) -> None:
         super().__init__()
+        if not is_cuda:
+            warnings.warn(f"Only CUDA support GGUF quantization currently.")
         self.modules_to_not_convert = modules_to_not_convert or []
 
     def __repr__(self) -> str:
-- 
2.52.0

